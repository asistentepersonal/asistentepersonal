:root { --bg:#f5f7fa; --card-bg:#fff; --text:#333; --muted:#555; --badge-color:#e74c3c; --primary:#4a76f3; --action-bg:#4caf50; --action-text:#fff; --error-bg:#e74c3c; --pending-bg: #28a745; --bought-bg: #dc3545; --list-item-text: #fff; --confirm-yes-bg: #e74c3c; --confirm-no-bg: #cccccc; --delete-text: #fff;}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text);padding-bottom: 60px; -webkit-font-smoothing: antialiased;}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;padding:20px;}
.card{background:var(--card-bg);border-radius:12px;padding:20px;box-shadow:0 4px 12px rgba(0,0,0,0.05);text-align:center;position:relative;}
.card-icon{font-size:2.5rem;margin-bottom:8px; cursor: pointer;}
.card-title{font-size:1.2rem;margin-bottom:4px; cursor: pointer;}
.card-badge{position:absolute;top:12px;left:12px;background:var(--badge-color);color:#fff;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;font-size:.9rem;line-height:24px;font-weight:500;}
.card-badge.pill{border-radius:12px; min-width:24px; width: auto; padding: 0 7px;}
.card-badge-group{position:absolute;top:12px;left:12px;display:flex;gap:4px;}
.card-badge.green{background-color:#28a745; position: static;}
.card-badge.red{background-color:#e74c3c; position: static;}
.card-menu-btn { position: absolute; top: 8px; right: 8px; background: transparent; border: none; font-size: 1.5rem; color: var(--muted); cursor: pointer; padding: 5px; line-height: 1; z-index: 10; }
.dropdown-menu { display: none; position: absolute; top: 40px; right: 10px; background-color: var(--card-bg); border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); z-index: 50; overflow: hidden; min-width: 150px; text-align:left;}
.dropdown-menu.show { display: block; }
.dropdown-item { padding: 12px 20px; color: var(--text); cursor: pointer; display: block; }
.dropdown-item:hover { background-color: var(--bg); }
.tabs{position:fixed;bottom:0;left:0;width:100%;display:flex;background:var(--card-bg);box-shadow:0 -2px 8px rgba(0,0,0,0.1);z-index: 100;}
.tab{flex:1;text-align:center;padding:12px 0;font-size:1rem;color:var(--muted);cursor:pointer;}
.tab.active{color:var(--badge-color);}
.form-container, .list-container{max-width:480px;margin:20px auto;padding:10px;}
.form-card{background:var(--card-bg);border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.05);padding:24px;}
.form-card label{display:block;margin-top:12px;font-weight:600;}
.form-card textarea,.form-card input, .form-card select, .radio-group {width:100%;margin-top:8px;}
.form-card textarea,.form-card input, .form-card select{padding:10px;border:1px solid #ddd;border-radius:8px;font-size:1rem;}
.radio-group{display:flex;gap:15px;align-items:center;}
.radio-group label{font-weight:400;color:var(--text);margin-top:0;}
.form-card button{margin-top:20px;width:100%;padding:12px;background:var(--action-bg);color:var(--action-text);border:none;border-radius:8px;font-size:1rem;cursor:pointer;opacity:1;}
.form-card button:disabled{cursor:not-allowed;opacity:.6;}
.toast{visibility:hidden;width:90%;max-width:480px;background:var(--action-bg);color:var(--action-text);text-align:center;border-radius:8px;padding:12px;position:fixed;left:50%;bottom:80px;transform:translateX(-50%);z-index:1000;font-size:1rem;}
.toast.error{background:var(--error-bg);}
.toast.show{visibility:visible;animation:fadein .3s,fadeout .3s 2.7s;}
.spinner{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);border:4px solid #f3f3f3;border-top:4px solid var(--primary);border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;z-index:1001;}
@keyframes spin{0%{transform:translate(-50%,-50%) rotate(0deg);}100%{transform:translate(-50%,-50%) rotate(360deg);}}
@keyframes fadein{from{opacity:0;}to{opacity:1;}}@keyframes fadeout{from{opacity:1;}to{opacity:0;}}
.list-header { display: flex; align-items: center; padding: 10px; margin-bottom: 10px; }
.back-btn { background: transparent; border: none; font-size: 1.8rem; cursor: pointer; color: var(--muted); padding-right: 15px; }
.list-header h2 { font-size: 1.4rem; margin: 0; }
.list-style-none { list-style: none; padding: 0; margin: 0; }
.list-item { background: var(--card-bg); border-radius: 10px; margin-bottom: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); transition: opacity 0.2s; }
.list-item.optimistic-delete { opacity: 0.5; }
.list-item-content { padding: 15px; display: flex; align-items: center; justify-content: space-between; }
.list-item-details { display: flex; flex-direction: column; flex-grow: 1; text-align: left;}
.list-item-title { font-size: 1.1rem; font-weight: 500; }
.list-item-subtitle { font-size: 0.9rem; color: var(--muted); margin-top: 4px; }
.note-header { cursor: pointer; }
.note-description { padding: 0 15px 15px; display: none; white-space: pre-wrap; word-wrap: break-word; }
.note-item.open .note-description { display: block; }
.generic-menu-btn { background: transparent; border: none; font-size: 1.5rem; cursor: pointer; color: var(--muted); padding: 5px; }
.no-data-msg { text-align: center; padding: 40px; color: var(--muted); background: var(--card-bg); border-radius: 12px; }
.shopping-item { background: var(--card-bg); border-radius:10px; margin-bottom: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); padding: 10px 15px; display: flex; align-items: center; gap: 10px; position:relative;}
.shopping-item-toggle-btn { flex-grow: 1; text-align: left; border: none; font-size: 1rem; padding: 10px 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; color: var(--list-item-text); font-weight: 500; cursor: pointer;}
.shopping-item-toggle-btn.pending { background-color: var(--pending-bg); }
.shopping-item-toggle-btn.bought { background-color: var(--bought-bg); text-decoration: line-through; opacity: 0.85; }
.item-date { font-size: 0.8rem; opacity: 0.9; }
.shopping-list-section-title { font-size: 1rem; color: var(--muted); margin: 20px 10px 10px; }
.add-article-btn-container { padding: 10px; display:flex; gap: 10px;}
.add-article-btn-container button { flex:1; width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; }
.add-article-btn {background-color: var(--primary); color: var(--action-text); }
.multi-select-action-btn { background-color: #f0f0f0; color: var(--text); cursor: not-allowed; opacity: 0.6; }
.multi-select-action-btn.enabled { background-color: var(--action-bg); color: var(--action-text); opacity: 1; cursor: pointer; }
.confirm-actions { display: none; align-items: center; }
.confirm-actions.show { display: flex; }
.confirm-btn-yes, .confirm-btn-no { padding: 8px 12px; border: none; border-radius: 5px; font-size: 0.9rem; font-weight: bold; cursor: pointer; margin-left: 5px; }
.confirm-btn-yes { background-color: var(--confirm-yes-bg); color: var(--delete-text); }
.confirm-btn-no { background-color: var(--confirm-no-bg); color: var(--text); }
